body { 
  font-family: 'Cinzel', serif; 
  background: radial-gradient(circle at center, #1a252f 0%, #000000 100%); 
  color: #e0d0b0; 
  margin: 0; 
  user-select: none; 
  overflow: hidden; 
}
.game-container { display: flex; flex-direction: column; align-items: center; height: 100vh; justify-content: space-between; padding: 10px; box-sizing: border-box; position: relative; }
.top-area, .bottom-area { display: flex; justify-content: center; width: 100%; position: relative; }
.middle-area { display: flex; justify-content: space-between; width: 100%; align-items: center; flex-grow: 1; position: relative; }

.player-area { text-align: center; padding: 10px; border-radius: 12px; transition: all 0.3s; position: relative; min-width: 100px; }
.active-turn { box-shadow: 0 0 40px rgba(212, 175, 55, 0.3); border: 1px solid rgba(212, 175, 55, 0.5); background: rgba(212, 175, 55, 0.05); transform: scale(1.05); }
.player-name { font-weight: bold; margin-bottom: 5px; font-size: 1.2em; text-shadow: 0 2px 4px black; letter-spacing: 2px; color: #d4af37; }
.player-badge { background: linear-gradient(45deg, #8e44ad, #c0392b); padding: 3px 12px; border-radius: 4px; font-size: 0.7em; margin-left: 8px; border: 1px solid #d4af37; box-shadow: 0 2px 5px black; }

.hand { display: flex; justify-content: center; height: 130px; min-width: 300px; }

/* --- CARD STYLING --- */
.card {
  width: 90px; height: 135px; 
  border-radius: 8px; 
  background: linear-gradient(135deg, #e6d5b8 0%, #f3e5cc 50%, #c5a028 100%);
  box-shadow: -2px 2px 10px rgba(0,0,0,0.6), inset 0 0 0 1px rgba(255,255,255,0.3);
  display: flex; flex-direction: column; 
  padding: 8px;
  box-sizing: border-box;
  margin: 0 -15px; 
  cursor: pointer; position: relative; 
  transition: transform 0.2s, margin 0.2s, z-index 0s;
  font-family: 'Cinzel Decorative', serif;
  overflow: hidden; 
}

.card-asset-img {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  object-fit: cover; z-index: 5; display: block;
  border-radius: 8px;
}

.card::before { content: ""; position: absolute; top: 3px; left: 3px; right: 3px; bottom: 3px; border: 2px solid rgba(0,0,0,0.2); border-radius: 6px; pointer-events: none; }
.card:hover { transform: translateY(-40px) scale(1.25); z-index: 1000 !important; margin: 0 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.9); } 

.card.red { color: #8e2800; fill: #8e2800; }
.card.black { color: #1a252f; fill: #1a252f; }
.card.joker { background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%); border: 2px solid #d4af37; }

/* Burnt Overlay */
.card.burnt::after { 
  content: "BURNT";
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.7);
  display: flex; align-items: center; justify-content: center;
  color: white; font-weight: bold; letter-spacing: 2px;
  z-index: 10; pointer-events: none;
}

.card-corner { 
  position: absolute; top: 8px; left: 8px;
  display: flex; flex-direction: column; align-items: center; 
  line-height: 0.9; z-index: 2; font-weight: 900;
}
.card-rank { font-size: 1.8em; letter-spacing: -1px; text-shadow: 0 1px 0 rgba(255,255,255,0.5); }
.card-suit-small { width: 22px; height: 22px; margin-top: 2px; }

.card-center { 
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  pointer-events: none;
}
.card-center-icon { width: 65px; height: 65px; filter: drop-shadow(1px 2px 3px rgba(0,0,0,0.2)); opacity: 0.9; }
.joker-emoji { font-size: 4.5em; filter: drop-shadow(0 4px 5px rgba(0,0,0,0.3)); }

.card-back { 
  background-color: #0f151a;
  background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 0L40 20L20 40L0 20z' fill='none' stroke='%23d4af37' stroke-width='0.5' opacity='0.5'/%3E%3Ccircle cx='20' cy='20' r='5' fill='%23d4af37' opacity='0.3'/%3E%3C/svg%3E");
  border: 4px solid #fdfbf7; width: 75px; height: 115px; border-radius: 8px; margin: 2px; box-shadow: 0 2px 5px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center;
  position: relative;
}
.card-back::after { content: "ðŸ‡´ðŸ‡²"; font-size: 2em; opacity: 0.8; filter: grayscale(0.3); }

.trick-area { width: 320px; height: 220px; background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, rgba(0,0,0,0) 70%); border-radius: 50%; border: 2px dashed rgba(212, 175, 55, 0.3); display: flex; align-items: center; justify-content: center; position: relative; z-index: 10; }
.trick-card { position: absolute; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.trick-card .card { margin: 0; cursor: default; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
.trick-card.p0 { bottom: 20px; } 
.trick-card.p1 { left: 20px; transform: rotate(90deg); }
.trick-card.p2 { top: 20px; }
.trick-card.p3 { right: 20px; transform: rotate(-90deg); }

/* UI LAYERS */
.modal-overlay { 
  position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
  background: rgba(0,0,0,0); /* Transparent */
  z-index: 300; 
  display: flex; align-items: center; justify-content: center; 
  flex-direction: column; 
  pointer-events: auto; 
}
.modal-content { background: linear-gradient(180deg, #1a252f 0%, #0e151c 100%); color: #e0d0b0; padding: 30px; border-radius: 2px; text-align: center; border: 2px solid #d4af37; outline: 4px double #d4af37; max-width: 600px; box-shadow: 0 0 50px rgba(212, 175, 55, 0.2); max-height: 80vh; overflow-y: auto; margin-bottom: 150px; }

button { background: linear-gradient(to bottom, #2c3e50, #000); color: #d4af37; border: 1px solid #d4af37; padding: 12px 25px; font-size: 1.1em; cursor: pointer; border-radius: 4px; margin: 8px; transition: all 0.2s; font-weight: bold; font-family: 'Cinzel', serif; text-transform: uppercase; letter-spacing: 1px; }
button:hover { background: #d4af37; color: #000; box-shadow: 0 0 15px #d4af37; }
button:disabled { background: #333; color: #555; border-color: #555; cursor: not-allowed; box-shadow: none; }
button.secondary { border-color: #c0392b; color: #c0392b; }
button.secondary:hover { background: #c0392b; color: white; box-shadow: 0 0 15px #c0392b; }
button.special { background: #8e44ad; border-color: #6c3483; }
button.special:hover { background: #9b59b6; border-bottom: 4px solid #8e44ad; }

.bid-controls { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 15px; }
.suit-controls { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 15px; }
.suit-btn { font-size: 2em; padding: 10px; display: flex; align-items: center; justify-content: center; border-radius: 12px; }

.status-bar { background: rgba(0,0,0,0.8); border-top: 1px solid #d4af37; border-bottom: 1px solid #d4af37; padding: 10px 20px; width: 100%; display: flex; justify-content: space-between; align-items: center; font-weight: bold; z-index: 50; }
.score-box { color: #d4af37; font-family: 'Cinzel', serif; letter-spacing: 1px; }
.bound-score { font-size: 1.8em; color: #f1c40f; text-shadow: 0 0 10px #f1c40f; border: 1px solid #f1c40f; padding: 5px 15px; }

.contract-display { position: absolute; top: 80px; right: 30px; background: rgba(0,0,0,0.8); border: 2px solid #d4af37; border-radius: 8px; padding: 15px 20px; text-align: center; box-shadow: 0 0 20px rgba(0,0,0,0.8); z-index: 60; }
.contract-label { font-size: 0.7em; color: #bdc3c7; text-transform: uppercase; letter-spacing: 2px; }
.contract-value { font-size: 3em; font-weight: bold; color: #fff; line-height: 1; font-family: 'Segoe UI', sans-serif; }
.contract-suit { font-size: 3em; line-height: 1; filter: drop-shadow(0 0 5px gold); }
.contract-content { display: flex; align-items: center; justify-content: center; }

.log-container { position: absolute; bottom: 180px; right: 20px; width: 280px; height: 180px; overflow-y: auto; background: rgba(0,0,0,0.8); border: 1px solid #555; border-radius: 4px; padding: 10px; font-size: 12px; pointer-events: auto; z-index: 300; color: #ccc; font-family: 'Segoe UI', sans-serif; }
.log-entry { margin-bottom: 4px; border-bottom: 1px solid #333; padding-bottom: 2px; }
.log-entry.important { color: #d4af37; font-weight: bold; }

.indicator { position: absolute; top: -60px; left: 50%; transform: translateX(-50%); background: linear-gradient(90deg, #000, #d4af37, #000); padding: 5px 20px; border: 1px solid #fff; font-family: 'Cinzel'; color: #fff; text-transform: uppercase; letter-spacing: 2px; animation: flash 2s infinite; }
@keyframes flash { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

.bottom-area { z-index: 500; pointer-events: none; position: relative; }
.bottom-area .player-area { pointer-events: auto; position: relative; }

.test-controls { position: absolute; top: 80px; left: 20px; display: flex; gap: 10px; z-index: 300; }
.test-btn { background: #222; color: #555; font-size: 10px; padding: 5px; border: 1px solid #333; }